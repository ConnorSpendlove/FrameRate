<div class="col s12 m6">
  <div class="card red">
    <div class="card-content white-text">
      <span class="card-title">{{ username }}</span>
    </div>
    <div class="card-action">
      <a href="#" class="white-text">{{ gameTitle }}</a>
      <p>Rating: {{ rating }}</p>
      <p>Hours: {{ hours }}</p>
      <p>Review: {{ review }}</p>
    </div>
  </div>
</div>

<script>
  // Function to fetch new review data and render it
async function renderNewReview() {
  try {
    // Fetch new review data from the server
    const response = await fetch('/api/user/game', {
      method: 'POST',
    });
  
    const newReviewData = await response.json();

    // Get the template script element
    const templateSource = document.getElementById('review-card-template').innerHTML;
    // Compile the Handlebars template
    const template = Handlebars.compile(templateSource);

    // Render the new review data using the template
    const renderedReview = template(newReviewData);

    // Append the rendered review HTML to the dashboard
    document.getElementById('dashboard').insertAdjacentHTML('beforeend', renderedReview);
  } catch (error) {
    console.error('Error fetching new review data:', error);
  }
}

// Call the renderNewReview function to render the initial reviews
renderNewReview();

</script>


